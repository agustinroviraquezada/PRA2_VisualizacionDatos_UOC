<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <title>Práctica 2: Creación de la visualización y entrega del proyecto</title>
      <div style="width: 100%; clear: both;">
          <div style="float: left; width: 50%;">
              <img src="http://www.uoc.edu/portal/_resources/common/imatges/marca_UOC/UOC_Masterbrand.jpg", align="left">
          </div>
          <div style="float: right; width: 50%;">
              <p style="margin: 0; padding-top: 22px; text-align:right;">M2.859 · Visualización de datos </p>
              <p style="margin: 0; text-align:right;">Máster universitario en Ciencia de datos (<i>Data science</i>)</p>
              <p style="margin: 0; text-align:right; padding-button: 100px;">Estudios de Informática, Multimedia y Telecomunicación</p>
          </div>
      </div>
      
      
      <div style="width:100%;">&nbsp;</div>
      <div class="row" style="background: #FCB517;padding: 10px 20px;">
         <div class="col-md-6">
            <div style="text-align:center;"> </div>
         </div>
      </div>  
   </head>
   
   
   
   <body>
      <h1>Práctica 2: Creación de la visualización y entrega del proyecto</h1>
      <p>Agustin Rovira Quezada</p>
      
     <!-- ############################################## -->
      
      <div id="TOC">
       <ul>
       <li><a href="#introducción"><span class="toc-section-number">1</span> Introduccion</a></li>
       <li><a href="#enunciado"><span class="toc-section-number">2</span> Integración y selección</a></li>
       <li><a href="#Preguntas"><span class="toc-section-number">3</span> ¿Preguntas responde la visualización de datos?</a><ul>
       <li><a href="#Preguntas-31"><span class="toc-section-number">3.1</span> Economico: Wage y Value</a></li>
       <li><a href="#Preguntas-32"><span class="toc-section-number">3.2</span> Atributos</a></li>
       <li><a href="#Preguntas-33"><span class="toc-section-number">3.3</span> Edad y potencial: Age vs Score</a></li>
       <li><a href="#Preguntas-34"><span class="toc-section-number">3.3</span> Versatilidad</a></li>
       </ul></li>
       <li><a href="#Pregunta4"><span class="toc-section-number">4.</span> Equipo Final</a></li>
       </ul>
      </div>
      
        <!-- ############################################## -->
      
      <hr />
      <hr />
      <hr />
      
      
       <!-- ############################################## -->
      
      
      <div id="introducción" class="section level1">
         <h2><span class="header-section-number">1.</span> Introduccion</h2>
         <hr />
            <p>Descripción técnica, relevancia del conjunto de datos en su contexto y complejidad (medida, variables disponibles, tipos de datos, …), comentando los datos que se muestran en la visualización.</p>
         <hr />
      </div>
      
      
      <p>
         
         El dataset original fue publicado en kaggle https://www.kaggle.com/datasets/thec03u5/fifa-18-demo-player-dataset. Los datos se extraen del sitio web https://sofifa.com extrayendo los datos personales del jugador y las identificaciones del jugador y luego las estadísticas de juego y estilo.

         El dataset continen:
         <ul>
            <li>Cada jugador que aparece en FIFA 18</li>  
            <li>más de 70 atributos</li>   
            <li>Imágenes de jugador y bandera  </li> 
            <li>Datos de posición de reproducción  </li> 
            <li>Atributos basados en datos reales del último juego FIFA 18 de EA </li>   
            <li>Los atributos incluyen todas las estadísticas de estilo de jugador, como Dribbling, Aggression, GK Skills, etc. </li>   
            <li>Datos personales del jugador como nacionalidad, foto, club, edad, sueldo, salario, etc.</li> 
         </ul>
         Asi dicho dataset original está conformado por 72 variables numéricas y 4 variables categóricas
         
      </p>
      
      
      <center><img src="./OriginalVar.PNG" alt="Variables originales" width="150" height="250"></center>
      
      <!-- ############################################## -->
      <div id="enunciado" class="section level1">
      <h2><span class="header-section-number">2.</span> Integración y selección</h2>
      <hr />
      Seleccionaremos y crearemos las variables necesarias para iniciar con el analsis exploratorio y las visualizaciones
      <hr />
      </div>
      <!-- ############################################## -->
   
      <br>
      <br>
      <br>
      <h3> Agrupacion del score  por posiciones en el campo</h3>
      <div>
         <p>
           
            <ul>
               Primeramente se realiza una agrupacion de las posiciones de los jugadores en el campo. Dicha agrupacion se lleva a cabo mediante una media no poderada. Se agrupan en 3 categorias:   
               <li> Attackers: 'ST', 'LW', 'RW','CF',"RS","LF","LS"</li> 
               <li> Midfielders: 'CAM', 'LM', 'CM', 'RM', 'CDM',"RAM","RF","LAM","LCM","LW"</li> 
               <li> Defenders: 'LWB', 'RWB', 'LB', 'CB', 'RB',"RDM","RCM","RCB","LB","LCB","LDM","LM","LWB"</li> 
            </ul>
            
         </p>   
      </div>

      <center><img src="./NewVar.PNG" alt="Variables originales" width="250" height="300"></center>
      
      <!-- ############################################## -->
      <br>
      <br>
      <br>
      <h3> Agrupacion de habilidades fisicas y tecnicas</h3>
      <div>
         <p>
        
               En el Fifa los jugadores son numeros, determinados por sus parametros y atributos. En el juego no es el físico del jugador lo que afecta a su rendimiento,
               ni tampoco sus rasgos o especialidades. Todo está en los atributos. Ellos son los encargados de hacernos sentir que cada jugador es diferente. Y son los que
               debes analizar cuidadosamente al planificar tu escuadrón. Muchas veces la percepción de un jugador cambia, según la dificultad del juego, la formación o por
               cualquiera de las decenas de razones que existen. Aún así, los atributos son el elemento más preciso que tenemos para comparar jugadores.<br/>
               <br/>
            
               Aunque la calificación general muestra cuán popular y bueno en atributos específicos es un jugador, por lo que lo compara con otros. Esta no es un 
               promedio o reflejo de todos los atributos. No revela nada sobre los verdaderos atributos técnicos, mentales y físicos del jugador.<br/>
               <br/>

               Nuestro interés aquí es encontrar los jugadores adecuados para nuestro equipo y formacion. Como dijimos, la elección del jugador debe basarse en sus atributos.
               Dado que hay mas de 15 atributos, los agruparemos en 6 atributos basicos que nos den un vistazo completo del jugador.<br/>
               <br/>

            
               Sin embargo no todos los atributos valen los mismo dependiendo de la categoria o posicion en la que juego dicho juegador, por ello la agrupacion se realizara 
               mediante una media ponderada. Tal que:<br/>
               <br/>
               
               
            
               <ul>
               <li> Pace | Sprint Speed (55%), Acceleration (45%)</li>
               <li> Shooting | Finishing (45%), Long Shots (20%), Shot Power (20%), Volleys (5%), Att. Positioning (5%), Penalties (5%)</li>
               <li> Passing | Short Pass (35%), Crossing (20%), Vision (20%), Long Pass (15%), Curve (5%), FK Accuracy (5%)</li>
               <li> Dribbling | Dribbling (50%), Ball COntrol (35%), Agility (10%), Balance (5%)</li>
               <li> Defending | Stand Tackle (30%), Defensive Awareness (30%), Interceptions (20%), Heading Acc (10%), Slide Tackle (10%)</li>
               <li> Physical | Strength (50%), Stamina (25%), Aggression (20%), Jumping (5%)</li>
               </ul>
            
         </p>
      </div>


      <center><img src="./NewVar2.PNG" alt="Variables originales" width="350" height="250"></center>
       
      <div id="Preguntas" class="section level1">
      <h2><span class="header-section-number">3.</span> ¿Preguntas responde la visualización de datos?</h2>
      <hr />
          <p>
             Las pregunta clave a responder con las visualizaciones son:
             <ol>
                <li> ¿Cómo elegir las jugadoras para tu equipo en FIFA 18?  </li>
                <li> ¿Cuales son los jugadores elegidos?</li>
            </ol>
               La primera pregunta es respondida a lo largo del analisis exploratorio y la creacion de visualizaciones, en el que usaremos como criterios claves para la seleccion de jugadores las siguientes variables del dataset:   
               <ol>
                  <li> Economico: Wage y Value</li>
                  <li> Edad y potencial: Age vs Score</li>
                  <li> Atributos:  'Shooting', 'Passing', 'Dribblin', 'Defending', 'Physical'</li>
                  <li> Versatilidad: Si el jugador puede realizar mas de una posicion</li>
               </ol>

               El analisis se concentrara en escoger 14 jugadores, sin tener en cuenta el portero. Es decir se escogeran 10 jugadores titulares y 4 remplazos. De tal forma que podamos crear un equipo
               de entre todas las posiciones posibles que se ofrecen en el futbol
          </p>
      </div>

     <center><img src="./Alineacion.PNG" alt="Alineacion" width="700" height="400"></center>


      <div id="Preguntas-31" class="section level2">
         <h3><span class="header-section-number">3.1</span> Economico: Wage y Value</h3>
         <hr />
      </div>

      <h4>Wage</h3>
      
       Podemos observar, analizando el grafico interactivo, que la mayoria de jugadores se concentran en un wage de 100k a 300k. Siendo os demas "outliers"
       Todos os jugadore por abajo tienen menos nivel como centro campista, ataque y defensa. Por otro lado todos los que estan por encima tiene unos sueldos
       astronomico, asi Cristiano y Mesi estan en el punto mas alto del scatter plot.<br/>
       <br/>
         
       De esta visualizacion se desprende que podemos filtrar los jugadores de acuerdo al salario de su contrato. Estableceremos un limite de salario que estamos
       dispuestos a pagar. Este limite sera 200K, es decir todos aquellos jugadores que tengan un wage por encima de 200k seran eliminados.<br/>
       <br/>
         
       En cuanto al grafico, se puede ver que hemos diferenciado los clubes en el scatter plot. Esto se hizo con la finalidad de encontrar algun patron en los clubes. Sin embargo
       como se observa no hay patrones por clubes.<br/>
       <br/>
      </p>
      <center><iframe src="./ScatterAttack.html" height="500" width="1100"frameBorder="0"></iframe></center>
      <center><iframe src="./ScatterMidfi.html" height="500" width="1100"frameBorder="0"></iframe></center>
      <center><iframe src="./ScatterDef.html" height="500" width="1100"frameBorder="0"></iframe></center>
      <br>

      <h4>Market Value</h4>

       <p>
        Tras el filtrado por wage, analizamos el valor de mercado de los jugadores vs su score en base a suposicion del campo (atacante, defensa, mediocampista).<br/>
        <br/>
         
        En este scatter plot combinado con la distribucion, lo que podemos observar es que al igual que con el wage muchos buenos jugadores se concentran por debajo de los 
        200M. Por lo tanto no necesitamos pagar mas de 200M por un jugador. De esta forma realizaremos otro filtrado para elegir jugadores con precio de mercado inferior a 150M
        <br/>
      </p>

      <center><img src="./ScatterDist.png" alt="Scatter plot Value vs Score" width="1000" height="350"></center>





      <div id="Preguntas-32" class="section level2">
         <h3><span class="header-section-number">3.2</span> Atributos</h3>
         <hr />
      </div>

      <p>
         Analizamos los score en base a suposicion del campo (atacante, defensa, mediocampista) vs los atributos de los jugadores (defence,shooting,pace..).<br/>
        <br/>
         
         Como vemos segun la posicion que ocupes en la cancha un atributo u otro sera mas deseado. Es decir unos ponderan mas que otros para la posicion que ocupes.
         De esta forma se creara una nueva variable "Selection", que represente el overall general del jugador. Usaremos esta variable para el resto del analisis
         a partir de ahora<br/>
         <br/>
     
      </p>

      <center><img src="./ScatterWeigths.svg" alt="Scatter plot  Score vs attributes" width="1000" height="1000"></center>
      


      <div id="Preguntas-33" class="section level2">
         <h3><span class="header-section-number">3.3</span> Edad y potencial: Age vs Score</h3>
         <hr />
      </div>


      <p>
         Otro punto importante a tener en cuenta es la edad del jugador. No es lo mismo un jugador de 18 años que juege al mismo nivel que uno de 25, el primero tendra
         mas potencial de crecimiento y por tanto mejores resultados en el equipo.<br/>
        <br/>
         
         Como podemos ver en el plot interactivo Selection (variable de rendimiento general) vs la edad es que entre los 18 y 25 años podemos observar muchos jugadores
         que considerados "outliers", es decir fuera de la media de abilidad que el resto<br/>
         <br/>
         
         De esta forma se realizara 2 filtrados, uno por edad en el que solo seleccionaremos jugadores de 18 a 25 años, y un segundo filtrado en el que usaremos como corte
         la media del score general para los jugadores de 20 años. Este segundo filtrado nos asegura que elegimos jugadores de 18-19 años por encima de la media con potencial de cremiento
         y tambien que eliminamos jugadores por encima de 20 años y por debajo de la media.<br/>
         <br/>
     
      </p>

      
      <center><iframe src="./BoxPlot_Attack.html" height="400" width="1000"frameBorder="0"></iframe></center>
      <center><iframe src="./BoxPlot_Miedfil.html" height="400" width="1000"frameBorder="0"></iframe></center>
      <center><iframe src="./BoxPlot_Defen.html" height="400" width="1000"frameBorder="0"></iframe></center>


      <div id="Preguntas-34" class="section level2">
         <h3><span class="header-section-number">3.4</span> Versatilidad</h3>
         <hr />
      </div>

      <p>
         Por ultimo vamo a estudiar los valores del score total(Selection) en base a su posicion especifica en el campo. Como CAM,CB,LW,etc .<br/>
        <br/>
         
         En este apartado seleccionaremos los jugadores teniendo en cuenta 2 criterios, su versatilidad (en cuantas posiciones puede jugar) y su score<br/>
         <br/>
         Como veremos seleccionaremos  4 atacantees, 5 mediocampistas y 5 defensores. En total un equipo de 14 jugadores sin el arquero.<br/>
         <ul>
          <li>Attackers: A. Griezmann ,M. Kruse, "M. Reus,D. Mertens</li> 
          <li> Midfielders: Danilo Pereira, E. Dier, C. Eriksen, T. Meunier,Alex Sandro</li> 
          <li>Defenders: Thiago Silva,Azpilicueta, A. Valencia, K. Koulibaly,T. Alderweireld</li> 
         <ul>
     
      </p>

      <center><img src="./Heatmap.svg" alt="heatMap" width="1200" height="700"></center>

      <div id="Pregunta4" class="section level1">
      <h12><span class="header-section-number">4.</span> Equipo Final</h2>
      <hr />
      </div>
            
            
      <p>
         Finalmente podemos comparar los atributos de los jugadores elegidos, y en funcion de esto podremos armar distintas combinaciones de equipos<br/>
        <br/>
     
      </p>
      
      <center><img src="./RadarPlot.svg" alt="Scatter plot Value vs Score" width="1000" height="1000"></center>


       <!-- ############################################## -->
            
            
       <hr />
      <p>
         Asi quedarian las posibles alineaciones y la tabla de jugadores<br/>
        <br/>
     
      </p>
   
      <center><img src="./Jugadores.PNG" alt="Scatter plot Value vs Score" width="800" height="400"></center>

      </body>
     

   
</html> 
